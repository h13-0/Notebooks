#计算机网络 #应试笔记与八股

## 目录
```toc

```

## 2.1 物理层基础特性

物理层主要负责<font color="#c00000">传输数据比特流</font>，而非具体的文件或媒体传输。其主要任务是确定传输媒体接口的一些有关特性，定义相关标准。

物理层主要定义内容如下：
1. 机械特性，例如引脚定义、接口封装、接插件机械设计等。
2. 电气特性，例如传输二进制位时，引线电压范围、阻抗匹配、传输速率以及距离限制等。
3. 功能特性，定义某导线上出现的某一电压表示的意义。
4. 规程特性(又叫过程特性)，定义各条物理线路的<font color="#9bbb59">工作流程</font>及<font color="#9bbb59">时序</font>关系。
注：
	电气特性和功能特性的区分为：
	`定义某两条差分线之间的电压为+10 ~ +15V时表示二进制位1，-10 ~ -15V时表示二进制位0`等<font color="#c00000">电压范围</font>时，则该定义为电气特性(通常给定具体的数字，以及范围)。
	`某协议的Busy与GND线路之间为高电平时表示当前线路忙`等<font color="#c00000">电平及其对应功能</font>时，则该定义为功能特性(通常不给具体数字)

## 2.2 通信基础

### 2.2.1 基本概念
通信的目的就是传送消息。消息包含文字、图片、视频等。

相关定义：
- <font color="#9bbb59">数据</font>：指传送信息的实体，通常是有意义的符号或二进制序列。
- <font color="#9bbb59">信号</font>：数据的电气/电磁等物理表现形式，是数据在传输过程中的存在形式。通常可分为数字信号和模拟信号。
- <font color="#9bbb59">信源</font>：发送和产生数据的源头，一般为各种终端。
- <font color="#9bbb59">信宿</font>：接收数据的终点。
- <font color="#9bbb59">信道</font>：信号的<font color="#c00000">一个方向上</font>的传输媒介，因此通常信道成对出现(见下方)。
	- 信道可以按传输信号分为数字信道和模拟信道
	- 信道也可以按传输介质分为有线信道和无线信道
- <font color="#9bbb59">码元</font>：指使用一个固定时长的信号波形能传输的数字信号的信息量。例如一个波形可以表示一个二进制，则就是1码元，<font color="#c00000">称为二级制码元</font>；可以表示四进制就是2码元，称为四进制码元；N进制就是 $\log_{2}(N)$ 码元，称为N进制码元。
- <font color="#9bbb59">码元宽度</font>：一个码元所使用的固定时长的时长宽度。
- <font color="#9bbb59">速率</font>、<font color="#9bbb59">数据率</font>、<font color="#9bbb59">数据传输速率</font>：表示单位时间内传输的数据量，可以按照单位不同分为如下两种说法：
	- <font color="#9bbb59">码元传输速率</font>、<span style="background:#fff88f"><font color="#9bbb59">波特率</font></span>：单位时间内传输的码元个数，单位波特(Baud)，例如2秒传输4800个码元，则波特率为2400<font color="#c00000">B</font>。码元速率与进制数无关，只与码元长度(码元宽度)有关。
	- <font color="#9bbb59">信息传输速率</font>、<font color="#9bbb59">比特率</font>：单位时间内传输的二进制码元个数，单位比特(bit)。
- <font color="#9bbb59">带宽</font>：在模拟系统和数字系统中有不同的定义，具体如下：
	- (模拟)<font color="#9bbb59">带宽</font>：当输入信号频率高或低到一定程度时，使得系统的输出功率成为输入功率的一半时(即-3dB)，最高频率和最低频率的差值就是系统的通频带宽，单位为Hz。
	- (数字)<font color="#9bbb59">带宽</font>：单位时间内从网络系统中的一点到另外一点所能通过的<font color="#c00000">最高</font>数据率(实际达不到)，单位是比特每秒，bps。

基本数据通信模型：
![[Pasted image 20240301202429.png]]

按通信双方信息交互的方式看，主要可以分为如下三种基本方式：
1. <font color="#9bbb59">单向通信</font>，只可单向通信，<font color="#c00000">只需要一条信道</font>。
2. <font color="#9bbb59">半双工通信</font>，通信双方可以双向通信，但是不可同时双向通信。<span style="background:#fff88f"><font color="#c00000">需要两条信道</font></span>。
3. <font color="#9bbb59">全双工通信</font>，通信双方可以同时双向通信。

按数据的各位传输方式可分为：
1. <font color="#9bbb59">串行通信</font>，一次只传输一个数据位，<font color="#c00000">速度慢、费用低、适合远距离</font>。
2. <font color="#9bbb59">并行通信</font>，一次可以传输多个数据位，<font color="#c00000">速度快、费用高、适合近距离</font>。

按数据传输是否有时钟同步可分为：
1. <font color="#9bbb59">同步通信</font>，传输时<font color="#c00000">有公共时钟</font>(例如USART接口需要额外的时钟引脚CK)，其每次都需要先发出同步<font color="#c00000">字符</font>(Byte)后才能进行数据传输，<span style="background:#fff88f"><font color="#c00000">是面向Byte的传输</font></span>。
2. <font color="#9bbb59">异步通信</font>，传输时<font color="#c00000">无公共时钟</font>(例如UART只需要TX、RX、GND)，采用应答方式，<font color="#c00000">接收方不知道发送方什么时候会发送数据，发送方也可以随时进行数据发送</font>，通常都需要一个字符的起始<font color="#c00000">位</font>(bit)和一个字符的终止位，接收方也通过抓取起始位和终止位进行"同步"，<span style="background:#fff88f"><font color="#c00000">是面向bit的传输</font></span>，传输效率低于同步传输。

### 2.2.2 奈奎斯特定理与香农定理

#### 2.2.2.1 奈奎斯特定理(奈式定理)

该定理描述的是一个信道在<span style="background:#fff88f"><font color="#c00000">低通</font></span>、<span style="background:#fff88f"><font color="#c00000">无噪声</font></span>、<span style="background:#fff88f"><font color="#c00000">带宽受限</font></span>的条件下<font color="#c00000">为了避免码间串扰</font>的极限<font color="#9bbb59">码元传输速率</font>，其中 $W$ 是理想低通信道的<font color="#c00000">(模拟)</font>带宽。
$$极限码元传输速率=2W$$
则该信道的极限<font color="#9bbb59">数据(data)传输速率</font>为：
$$数据传输速率=2W\log_{2}(V)$$
注：
1. 奈奎斯特定理<span style="background:#fff88f"><font color="#c00000">并未限制最高信息(imformation)传输速率</font></span>，因为我们可以采用调制方法、编码技术来提高信息传输速率。
2. 奈奎斯特定理限制的是<font color="#c00000">最高码元传输速率</font>。
3. 低通是指低于最高频率的所有信号都可以通过的信道，如下图就<font color="#c00000">不是</font>一个低通信道：
![[Pasted image 20240301211723.png]]
4. <font color="#c00000">信息传输速率可以大于数据传输速率</font>(但是这data和information的概念都不同为什么要进行比较...)。
因此(模拟)带宽越宽，就可以使用更高的速率进行信号传输。

#### 2.2.2.2 香农定理

该定理描述的是在<font color="#c00000">带宽受限</font>、<font color="#c00000">有噪声</font>的信道中，为了不产生误差的最大数据传输速率。
公式内容：
$$信道的极限数据传输速率=W\log_{2}(1+S/N)$$
$W$为带宽(Hz)，数据传输速率单位b/s。

有事可能会给出以分贝(dB)为单位的信噪比条件，概念如下：
- <font color="#9bbb59">信噪比</font>：信号的平均功率和噪声的平均功率之比，即：
$$信噪比(S/N)=\frac{信号平均功率}{噪声平均功率}$$
	当使用分贝(dB)作为单位时有：
$$信噪比(dB)=10 \log_{10}(S/N)$$

注：
1. S是信道的平均功率，N是信道内的<font color="#c00000">高斯噪声</font>功率。
2. 只要信息传输速率低于信道的极限数据传输速率，那么就<font color="#c00000">一定存在某种方法实现无差错的数据传输</font>。
3. 实际信道传输速率会比极限值低很多。
4. 显然，信噪比越高，传输速率越高。如果信噪比无穷大(不可能)，则信道带宽无穷大。

### 2.2.3 编码与调制

基本定义：
- <font color="#9bbb59">编码</font>：将数据变换为数字信号的过程就叫编码。
- <font color="#9bbb59">调制</font>：将数据变换为模拟信号的过程就叫调制。
- <font color="#9bbb59">基带信号</font>(baseband signal)：基带信号通常直接传输，或者经过简单的调制处理后传输，例如调幅(AM)调制。数字信号通常为基带信号。
- <font color="#9bbb59">宽带信号</font>(broadband signal)：宽带信号通常经过复杂的调制处理后传输，例如频率调制(FM)、相移键控(PSK)等。模拟信号通常为宽带信号。

在传输距离进时通常使用基带信号，距离远时通常使用宽带信号。

编码与调制方法：
- 数字数据 可以使用 <font color="#c00000">数字发送器</font>  编码 为 数字信号
- 数字数据 可以使用 <font color="#c00000">调制器</font>     调制 为 模拟信号
- 模拟数据 可以使用 <font color="#c00000">PCM编码器</font>  编码 为 数字信号
- 模拟数据 可以使用 <font color="#c00000">放大器调制器</font> 调制 为 模拟信号
可以通过数字信号或模拟信号的来源判定数据类型。

编码可以根据规则不同大致分为如下几类：
![[Pasted image 20240302222734.png]]

#### 2.2.3.1 非归零编码(NRZ)

定义：
	用高电平代表1、低电平代表0；或者高电平代表0、低电平代表1的编码即为归零编码。

优点：
	每个时钟周期内不需要归零(参见归零编码)，一个周期可以全部用来传输数据。

缺点：
	非归零编码无法传递时钟信号，双方难以同步。因此若需要传递高速数据则必须布置时钟线。

#### 2.2.3.2 归零编码(RZ)

定义：
	用高电平代表1、低电平代表0(或反之)，<font color="#c00000">并且每个时钟周期的中间均需要跳变到零电平的编码</font>即为归零编码。

优点：
	为传输双方提供了自同步机制

缺点：
	归零需要占用一些带宽，传输速度会受影响

#### 2.2.3.3 反向不归零编码(NRZI)

定义：
	信号电平翻转表示0，信号电平不变表示1。

优点：
	既能传输时钟，又能尽量不损失带宽

典型协议：USB2.0

#### 2.2.3.4 曼彻斯特编码

定义：
	前高后第表示1，前低后高表示0(或反之)。

优点：
	每一个码元中部一定会发生电平跳变，每一位既可以做时钟信号，也可以做数字信号。

缺点：
	其所占领的频带宽度是原始基带宽度的2倍。<font color="#c00000">数据传输速率只有调制速率的1/2</font>。

#### 2.2.3.5 差分曼彻斯特编码

定义：
	当前码元的前半段与前一个码元的后半段做比较，电平相同时为1，相异时为0。

优点：
	每个码元中间都有电平跳变以实现自同步，抗干扰性高于曼彻斯特编码。

常用于局域网传输。

#### 2.2.3.6 4B/5B编码

定义：
	在比特流中插入额外的比特以打破一连串的0或者1，即用5Bit来编码4Bit的数据，随后再进行传输，因此称作4B/5B编码，传输效率为80%。

编码对应表(部分)：


## 本章Q&A

1. 奈氏准则和香农定理的区别：
<details>
<summary>答案</summary>
1. 奈氏准则主要关注于码间串扰，香农主要关注于噪声。
2. 香农定理离不开噪声条件。如果未给出噪声条件，则应使用奈式；如果题目给出噪声，则两种定理都要算并取小值。
</details>








