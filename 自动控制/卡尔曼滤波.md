---
number headings: auto, first-level 2, max 6, 1.1
---
#自动控制

## 1 目录

```toc
```

## 2 卡尔曼滤波基本数学原理

卡尔曼滤波假设模型需要满足如下的条件：
1. 模型和系统均处于<font color="#c00000">线性关系</font>。
2. 观测系统观测到的<font color="#c00000">噪声符合高斯分布</font>。
现在假设这个系统有两个观测器，分别为观测器A和观测器B，其基本设定如下：

| 数据源  | 方差           | 观测值   |
| ---- | ------------ | ----- |
| 观测器A | $\sigma^2_A$ | $z_A$ |
| 观测器B | $\sigma^2_B$ | $z_B$ |
| 真实值  | $0$          | $x$   |
则由于限定条件2，其有如下关系：
$$E(z_A)=E(z_B)=x$$
则在仅基于上述两个数据源进行观测数据值时，首先会考虑到的是使用加权均值来计算观测值：
$$Z=k_1\cdot z_A+k_2\cdot z_B \tag{1}$$
且有：
$$
E(Z)=k_1\cdot E(z_A)+k_2\cdot E(z_B)=>k_1+k_2=1 \tag{2}
$$
该观测值的方差为：
$$D(Z)=k_1^2\cdot \sigma_A^2+k_2^2\cdot \sigma_B^2  \tag{3}$$
连立式$(1)$和式$(2)$则可以使用拉格朗日条件极值，得当且仅当：
$$k_1=\frac{\sigma_B^2}{\sigma_A^2+\sigma_B^2}, k_2=\frac{\sigma_A^2}{\sigma_A^2+\sigma_B^2}$$
时，$D(Z)$最小，且此时：
$$D(Z)=\frac{2\sigma_A^2 \sigma_B^2}{(\sigma_A^2+\sigma_B^2)^2}$$
而系统A和系统B的测量方差通常均为常数，则可得$k_1$和$k_2$均为常数。

而上式可以理解为卡尔曼滤波可以基于多个观测器的测量方差，算出一个最佳的加权均值的权重。

## 3 线性卡尔曼滤波器

上述卡尔曼滤波的基本原理很好地处理了线性系统中，利用多个高斯噪声模型的传感器使用加权平均获取方差值最小的观测值的方法。但是通常一个物理系统中不具备使用两个传感器检测同一物理量的条件。于是<font color="#c00000">在卡尔曼滤波假设模型的两个条件基础上</font>，<font color="#c00000">再加一个约束条件后</font>的模型可以仅使用单传感器和一个预测器做输入源进行滤波。
该约束条件为：
- <font color="#c00000">该模型的当前时刻状态只和上一时刻状态有关</font>，即满足马尔可夫性质(Markov property)。具体而言，
	- 满足该性质的模型例子有：
		- 简单一维匀速模型，其状态可以由位置$x$和速度$v$描述：$x_{k+1}=x_k+v_k\cdotΔt​$
	- 不满足该性质的模型例子有：
		- 含有外部输入和影响的模型。

