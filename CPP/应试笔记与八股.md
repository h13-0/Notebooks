---
number headings: auto, first-level 2, max 6, 1.1
---
#C-Language #应试笔记与八股
```toc

```

## 1 八股简答题和思考题

### 1.1 C语言的优缺点




### 1.2 声明和定义的区别


### 1.3 讲一讲编译和链接

Windows：

Linux：


### 1.4 格式化输出

例如 `%3.6f`

### 1.5 C语言标识符(Identifiers)规则

1. C语言标识符必须以字母 `a-z` 或字母 `A-Z` 或下划线 `_` 开头，后面可以接任意个字母、数字、下划线。<font color="#c00000">不可以数字开头</font>。
2. 标识符区分大小写字母。
3. C89规定标识符的长度在31字符以内，C99规定在63个字符以内，C11对标识符长度无限制。
4. C语言中的关键字不可做为标识符(见C11标准附录A.1.2)

C11标注参考：
	[[C标准学习笔记#6 4 2 标识符 Identifiers]]


### 1.6 对数组使用sizeof会得到什么结果

1. <font color="#c00000">在同一函数内定义的数组的</font> `sizeof` <font color="#c00000">为该数组的实际内存大小</font>，即使是不定长数组(VLA)也是如此：(因此 `sizeof` <font color="#c00000">不一定是预处理时求值</font>(但是开优化后一般直接生成表达式))
```C
#include <stdlib.h>

size_t vla_test(int size)
{
	int array[size];
	return sizeof(array);
}

int main()
{
    printf("%lld", vla_test(89)); //356，4Byte per `int`
    return 0;
}
```
2. <font color="#c00000">但是在不同的函数间定义的数组的</font> `sizeof` <font color="#c00000">运算结果仅为指针大小</font>。
```C
#include <stdio.h>

void array_test(int array[])
{
	printf("sizeof array: %lld\r\n", sizeof(array)); //8
}

int main()
{
    int array[16] = { 0 };
    array_test(array);
    return 0;
}
```

```C
#include <stdio.h>

int array[16] = { 0 };

void array_test()
{
	printf("sizeof array: %lld\r\n", sizeof(array)); //64
}

int main()
{
    array_test();
    return 0;
}
```
因此在处理数组的函数传参时，一定要传两个参数，一个是数组(或指针)，一个是大小。(可以考虑使用宏函数自动处理 `sizeof` )

C11规范见：
	[[C标准学习笔记#6 5 3 4 sizeof和_Alignof运算符]]

### 1.7 Const & Pointer

`const` 优先修饰其左边的描述符，因此有以下几种情况：

| 区别  | `const int* p` | `int* const p` |
| --- | -------------- | -------------- |
|     |                |                |

### 1.8 指针是如何传参的

指针在实际传参时是按照指针传参的，并不关心数组是否匹配，如下：
```C
#include <stdio.h>

void array_test(int array[32])
{
    printf("value of array: %lld\r\n", array);        //140722025083408(Address of `array`)
	printf("sizeof array: %lld\r\n", sizeof(array));  //sizeof(int*)
}

int main()
{
    int array[16] = { 0 };
    array_test(array);                                //哪怕int [16]也可以传进int [32]中
    return 0;
}
```

### 1.9 Array VS Pointer

| <center>区别</center> | <center>int a[size]</center>                                                              | <center>int *a</center>                                      |
| ------------------- | ----------------------------------------------------------------------------------------- | ------------------------------------------------------------ |
| 内存分配                | 定义时即分配                                                                                    | 需要手动分配                                                       |
| 内存回收                | 自动回收                                                                                      | 需要手动回收                                                       |
| 内存置0                | 定义时可直接置0，例如：<br>`int array[32] = { 0 };`                                                  | 申请时使用 `calloc` 、<br>或申请后使用 `memset`                          |
| `sizeof` 运算         | 不同函数内定义的数组(经过传参的)的sizeof运算结果为指针，<br>直接访问的是实际内存大小，见：<br>[[应试笔记与八股#1 3 对数组使用sizeof会得到什么结果]] | 一定是指针大小                                                      |
| `a` 是否可变            | 不可变，为常量                                                                                   | 可变，为变量，仅指向内存地址                                               |
| 指向内容                | 必定为数组对应的数据类型                                                                              | 可以指向任意类型的内存区域                                                |
| 函数传参                | 数组在传递时只传递了指针，和指针传参无本质区别。<br>见：[[应试笔记与八股#1 5 指针是如何传参的]]                                    |                                                              |
| 隐式变换                | <font color="#c00000">允许</font> `int *p = a; //a为int a[size]`                             | 但是<font color="#c00000">不允许</font> `int a[] = p; //p为int *p` |
| 访问方式                | <font color="#c00000">允许</font> `*(a + offset)` 访问                                        | 但是<font color="#c00000">不允许</font>指针 `a[offset]` 访问                                       |

### 1.10 多维数组怎么初始化


### 1.11 实参和虚参的区别


### 1.12 print函数和puts函数的区别


### 1.13 C语言中整数隐式转换规则

例如




### 1.14 内存对齐问题

