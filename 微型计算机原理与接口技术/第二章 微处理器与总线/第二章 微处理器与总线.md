#微型计算机原理与接口技术 #应试笔记与八股 

## 目录

```toc
```

## 2.1 微型计算机系统概述

### 2.1.1 微型计算机的发展

无用章节，了解即可。

### 2.1.2 微型计算机系统组成

微型计算机系统主要由以下部分组成：
	![[Pasted image 20240329213407.png]]
其中，微型计算机由以下四个部分组成：
1. 微处理器(通常含片内总线)
2. 总线
3. 存储器
4. I/O电路
其基本结构可以表示为：
	![[Pasted image 20240329214615.png]]
其<font color="#c00000">可以根据集成度分为</font>：
- 单片机：将微处理器、总线、存储器和I/O电路集成到一个芯片上
- 单板机：将微处理器、总线、存储器和I/O电路集成到一个电路板
- 多板机：将微处理器、总线、存储器和I/O电路集成到多个电路板上

随堂练习：
	51单片机是(  )
		A、中央处理器
		B、微处理器
		C、微型计算机
		D、微机系统
<details>
<summary>答案：</summary>
C，因为单片机含有微处理器、总线、存储器和I/O
</details>

#### 2.1.2.4 总线

<font color="#9bbb59">总线</font>：
	总线是指连接计算机各部件的一组公共信号线。

<font color="#9bbb59">总线宽度</font>：
	总线上能传输的二进制信息的宽度称为总线宽度。

总线按照传输的信息的类型可以分为：
1. 地址总线(Address Bus)：是<font color="#c00000">单向总线</font>，用于传送CPU发送的地址信息，以确定存储器中信息存放的地址或I/O接口地址
2. 数据总线(Data Bus)：是<font color="#c00000">双向总线</font>，用于在CPU和存储器、I/O之间传送数据。
3. 控制总线(Control Bus)：是<font color="#c00000">双向总线</font>，用于传送控制信号，时钟信号和状态信息等。

总线也可以根据其所属单元的不同分为片内总线和片见总线。

### 2.1.3 微处理器的基本结构与工作过程

微处理器通常包含：
1. 算数逻辑单元(ALU)
2. 寄存器阵列(RA)
3. 控制单元(CU)
则微处理器的基本结构可以表示为：
	![[xYAkYLhtfo.png]]
上图中从上到下从左到右依次为：

| 英文缩写 |             全拼              |                        部件名                        | <center>功能</center>                                         | <center>额外说明</center>                                |
| :--: | :-------------------------: | :-----------------------------------------------: | ----------------------------------------------------------- | ---------------------------------------------------- |
| ALU  |  Arithmetic<br>Logic Unit   |                      算术逻辑单元                       | 用于实现算术操作                                                    | 其拥有两个输入接口( $I_1$ 、 $I_2$ )和一个输出接口( $O$ )，分别连接到不同的总线上 |
|  FR  |        Flag Register        |                       标志寄存器                       | 用于缓存各种运算产生的标志，例如缓存"发生溢出"标志                                  |                                                      |
|  A   |         Accumulator         |                        累加器                        | 最常用的寄存器，常与ALU一起完成各种运算<br>可以暂存上一步计算的数据<br>可使用指令对寄存器中数据进行位操作等 |                                                      |
|  RA  |                             |                       寄存器阵列                       |                                                             |                                                      |
| PLA  | Programmable<br>Logic Array | 可编程逻辑阵列<br><font color="#c00000">也称</font>定时与控制电路 |                                                             |                                                      |
|  PC  |       Program Counter       |                       程序计数器                       | 指向下一条要执行的指令的地址                                              |                                                      |
|  ID  |   Instruction<br>Decoder    |                       指令译码器                       | 对IR中存放的指令进行译码，<br>以确定要执行的操作                                 |                                                      |
|  IR  |   Instruction<br>Register   |                       指令寄存器                       | 存放从存储器取出的要执行的指令                                             |                                                      |
|  AR  |     Address<br>Register     |                       地址寄存器                       | 存放正要取出的指令的地址或操作数的地址                                         |                                                      |
|  DR  |        Data Register        |                       数据寄存器                       | 暂存数据或指令                                                     |                                                      |

则微处理器执行一条指令的简要流程为：
1. 取指令
2. 指令译码
3. 取操作数(可选)
4. 执行指令
5. 存放操作结果(可选)

则执行一条指令必定发生的过程有：
1. <font color="#c00000">取指</font>令
2. 指令<font color="#c00000">译码</font>
3. <font color="#c00000">执行</font>指令
(取指、译码、执行)

### 2.1.4 存储器的访问

存储器的读写主要通过控制：
- 地址寄存器
- 数据寄存器
- 读/写控制信号
进行控制，如下图所示：
	![[Pasted image 20240329224110.png]]
上图中的地址译码器的功能是根据给定的地址，选出唯一一个有效的内存单元，通常存储器自带此功能。

## 2.2 8086/8088微处理器

### 2.2.1 8086/8088微处理器内部结构

8086系列微处理器：
- 8086系列微处理器是Intel的<font color="#c00000">16位</font>微处理器
- 其拥有<font color="#c00000">16位数据线</font>和<font color="#c00000">20位地址线</font>
- <font color="#c00000">端口和内存独立编址</font>，<font color="#c00000">使用两套指令</font>
- 其指令队列缓冲器有6个字节
8088<span style="background:#fff88f"><font color="#c00000">也是16位微处理器</font></span>，基本特性与8086相似，不同特性有：
- 其拥有<font color="#c00000">8位数据线</font>
- 其<font color="#c00000">指令队列缓冲器只有4个字节</font>

8086内部结构示意图如下：
	![[Pasted image 20240330214628.png]]
<span style="background:#fff88f"><font color="#c00000">8086可以被分为执行单元(EU)和总线接口单元(BIU)两部分</font></span>，
总线接口单元BIU功能：
1. 形成20位物理地址，由上图右上角部分负责。
2. 从内存取指令并送到指令队列，由上图右下角部分负责。
3. 负责操作数的存取
执行单元EU功能：
1. 从指令队列取指令、译码和执行
2. 提供算术逻辑单元(ALU)
3. 向总线接口单元BIU提供执行结果和16位段内偏移地址
当处理到转移指令后，指令队列缓冲器会被清空。

<font color="#c00000">8086 CPU的优点有</font>：
1. 8086 CPU被分为执行单元(EU)和总线接口单元(BIU)两部分。
2. 而执行单元和总线接口单元可以并行运行，提高了CPU效率，降低了对存储器的速度要求，相当于二级流水线。

随堂练习：
1. 微型计算机中，CPU重复的操作是<u> </u><u> </u><u> </u><u> </u><u> </u>、<u> </u><u> </u><u> </u><u> </u><u> </u>和<u> </u><u> </u><u> </u><u> </u><u> </u>。
<details>
<summary>答案：</summary>
<font color="#c00000">取指</font>令、指令<font color="#c00000">译码</font>、<font color="#c00000">执行</font>指令
</details>
2. 8086 CPU从功能上可分为两部分，负贵执行程序的是<u> </u><u> </u><u> </u><u> </u><u> </u>，负责取指令和操作数的是<u> </u><u> </u><u> </u><u> </u><u> </u>。后者通过指令队列缓冲器给前者准备指令，指令队列缓冲器的工作原则为<u> </u><u> </u><u> </u><u> </u><u> </u>。
<details>
<summary>答案：</summary>
执行单元(EU)、总线接口单元(BIU)、先入先出(FIFO)
</details>

### 2.2.2 8086/8088寄存器组

8086/8088<span style="background:#fff88f"><font color="#c00000">的CPU内部</font></span>有14个16位寄存器(不算I/O等)，其可以被分为如下三组：
1. 通用寄存器(8个，实际上是4个16位的，可被拆成8个8位的，这8个8位<span style="background:#fff88f"><font color="#c00000">可以单独使用</font></span>)
2. 段寄存器(4个)
3. 控制寄存器(2个)
其结构图如下：
	![[Pasted image 20240330222437.png]]
各寄存器的功能及含义：

|    寄存器    | <center>寄存器类型</center> | <center>寄存器含义</center> | <center>功能</center>                                                                                                                         |
| :-------: | ---------------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------------------------- |
| AX(AH、AL) | 通用数据寄存器                |                        | 通常被当成累加器使用，存放运行结果等                                                                                                                          |
| BX(BH、BL) | 通用数据寄存器                |                        | 存放数据区的首地址                                                                                                                                   |
| CX(CH、CL) | 通用数据寄存器                |                        | 计数器，例如loop循环中记录循环次数                                                                                                                         |
| DX(DH、DL) | 通用数据寄存器                |                        | 输入输出端口进行访问时用于指明端口地址                                                                                                                         |
|    SP     | 指针寄存器                  | 堆栈指针寄存器                | 存放堆栈栈顶偏移地址                                                                                                                                  |
|    BP     | 指针寄存器                  | 基址指针寄存器                | 用于指出堆栈中某个单元的偏移地址                                                                                                                            |
|    SI     | 变址寄存器                  |                        |                                                                                                                                             |
|    DI     | 变址寄存器                  |                        |                                                                                                                                             |
|    IP     | 控制寄存器                  | 指令指针寄存器                | 程序计数器PC的视，指向要执行的指令的<font color="#c00000">偏移地址</font>，从段寄存器开始计算，<span style="background:#fff88f"><font color="#c00000">即CS:IP</font></span>。 |
|   FLAG    | 控制寄存器                  | 状态标志寄存器                | <span style="background:#fff88f"><font color="#c00000">又叫程序状态字寄存器PSW</font></span>，                                                         |
|    CS     | 段寄存器                   | 代码段段寄存器                |                                                                                                                                             |
|    DS     | 段寄存器                   | 数据段段寄存器                |                                                                                                                                             |
|    SS     | 段寄存器                   | 堆栈段段寄存器                |                                                                                                                                             |
|    ES     | 段寄存器                   | 附加段段寄存器                |                                                                                                                                             |
